import { Appear, Image, Notes } from 'mdx-deck'

# Gaining Confidence in React App through Testing

## ReactJS Indonesia

[@zainfathoni](https://twitter.com/zainfathoni)
[t.me/zainfathoni](https://t.me/zainfathoni)

---

# I am [Zain Fathoni](https://github.com/zainfathoni) ğŸ¤

<ul>
  <Appear>
    <li>Indonesian ğŸ‡®ğŸ‡© family with 2 kids ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</li>
    <li>
      Working @ <a href="https://www.ninjavan.co">Ninja Van</a> Singapore ğŸ‡¸ğŸ‡¬
    </li>
    <li>Backend turned Frontend ğŸ‘¨ğŸ»â€ğŸ’»</li>
    <li>â¤ï¸ React & its Hooks âš›ï¸</li>
  </Appear>
</ul>

---

# What this talk is ğŸ˜‰

- Conceptual Introduction about Testing
- Only Testing ReactJS Frontend Web
  - ~~React Native~~
  - ~~Backend~~
- General Guidelines in Testing
- Mainly Focused on Unit & Integration Tests

---

# What this talk is _not_ â˜ğŸ¼

- React & Its Hooks Introduction
- Testing Setup Tutorial
- Full-Blown Set of Tests
  - Load Test
  - Penetration Test
  - Kernel Test
  - API/Service Test
  - Disaster Test
  - etc.

---

# Outline

- Intro
- Problems
  - Humans make mistakes
  - New features tend to introduce regressions
  - Machines don't make mistakes, ~~do they~~?
- Solution
  - Testing
  - Code vs Code: test code against implementation code
- Concepts
  - Simple Addition Example
  - Introducing Test Runner
  - Introducing React Renderer
- Introducing [The Test User](https://kentcdodds.com/blog/avoid-the-test-user)
  - 3 users of our components:
    - End User --> user interactions, i18n, a11y, etc.
    - Developer --> props, context, side effects, etc.
    - [The Test User](https://kentcdodds.com/blog/avoid-the-test-user) --> ???
- Demo 1
  - Implement Class Component
  - Test using Enzyme
  - Change `toggle` state representation
    - End User ğŸ†—
    - Developer ğŸ†—
    - Test User âŒ
- Demo 2
  - Implement Functional Component (using Hooks)
  - Swap Components
    - End User ğŸ†—
    - Developer ğŸ†—
    - Test User âŒ
- Demo 3
  - Make a mistake in Button onClick event propagation
    - Test User âœ…
    - End User âŒ
  - Emphasis common mistakes:
    - Assert component instance's state
    - Call component instance method directly
- Demo 3
  - Test using React Testing Library
  - Change `toggle` state representation
    - End User ğŸ†—
    - Developer ğŸ†—
    - Test User âœ…
  - Swap components
    - End User ğŸ†—
    - Developer ğŸ†—
    - Test User âœ…
  - Why?
    - Avoid testing implementation details <-- "aha" moment
- Recap
  - [The more your tests resemble the way your software is used, the more confidence they can give you.](https://twitter.com/kentcdodds/status/977018512689455106)
  - Avoid [testing implementation details](https://kentcdodds.com/blog/testing-implementation-details)
  - Test interfaces instead
    - Props
    - Rendered DOM
  - [What should (and should not) be mocked](https://kentcdodds.com/blog/the-merits-of-mocking)
  - [Testing Trophy](https://kentcdodds.com/blog/unit-vs-integration-vs-e2e-tests)
    - Static
    - Unit
    - Integration
    - End-to-End
- Thanks
  - [Testing JavaScript](https://testingjavascript.com/)
