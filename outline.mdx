# Outline

- Intro
- Problems
  - Humans make mistakes
  - New features tend to introduce regressions
  - Machines don't make mistakes, ~~do they~~?
- Solution
  - Testing
  - Code vs Code: test code against implementation code
- Introducing [The Test User](https://kentcdodds.com/blog/avoid-the-test-user)
  - 3 users of our components:
    - End User --> user interactions, i18n, a11y, etc.
    - Developer --> props, context, side effects, etc.
    - [The Test User](https://kentcdodds.com/blog/avoid-the-test-user) --> ???
- Demo 1
  - Implement Class Component
  - Test using Enzyme
  - Flip `toggle` state representation
    - End User ğŸ†—
    - Developer ğŸ†—
    - Test User âŒ
- Demo 2
  - Implement Functional Component (using Hooks)
  - Swap Components
    - End User ğŸ†—
    - Developer ğŸ†—
    - Test User âŒ
- Demo 3
  - Make a mistake in Button onClick event propagation
    - Test User âœ…
    - End User âŒ
- Solution
  - Test using React Testing Library
  - Flip `toggle` state representation
    - End User ğŸ†—
    - Developer ğŸ†—
    - Test User âœ…
  - Swap components
    - End User ğŸ†—
    - Developer ğŸ†—
    - Test User âœ…
  - Make a mistake in Button onClick event propagation
    - End User âŒ
    - Test User âŒ
- Comparison
  - Emphasis common mistakes:
    - Assert component instance's state
    - Call component instance method directly
  - Why?
    - Avoid testing implementation details <-- "aha" moment
- Recap
  - [The more your tests resemble the way your software is used, the more confidence they can give you.](https://twitter.com/kentcdodds/status/977018512689455106)
  - Avoid [testing implementation details](https://kentcdodds.com/blog/testing-implementation-details)
  - Test interfaces instead
    - Props
    - Rendered DOM
  - [What should (and should not) be mocked](https://kentcdodds.com/blog/the-merits-of-mocking)
  - [Testing Trophy](https://kentcdodds.com/blog/unit-vs-integration-vs-e2e-tests)
    - Static
    - Unit
    - Integration
    - End-to-End
- Thanks
  - [Testing JavaScript](https://testingjavascript.com/)
